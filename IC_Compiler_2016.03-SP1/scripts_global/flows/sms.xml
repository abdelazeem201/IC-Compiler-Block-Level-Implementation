
<!--
## HEADER $Id: //sps/flow/ds/scripts_global/flows/sms.xml#26 $
## HEADER_MSG    Lynx Design System: Production Flow
## HEADER_MSG    Version 2015.06-SP1
## HEADER_MSG    Copyright (c) 2015 Synopsys
## HEADER_MSG    Perforce Label: lynx_flow_2015.06-SP1
## HEADER_MSG 
-->
<flow name="sf_sms">
    <note name="note-1" title="Please Read">
        <text>The build_sms &amp; build_design tasks are interactive tool sessions. When finished, each generates a script that will re-create the work performed during the session.

The build_sms_replay &amp; build_design_replay scripts are tasks that execute the scripts generated by the interactive sessions.

Be sure to relocate the generated scripts an appropriate  directory &amp; point to them using the TEV variables provided in the replay tasks.</text>
    </note>
    <join_task name="begin">
        <step>05_sms</step>
    </join_task>
    <join_task name="end">
        <step>05_sms</step>
    </join_task>
    <tool_task name="build_design">
        <step>05_sms</step>
        <script_file>$SEV(gscript_dir)/sms/build_design.tcl</script_file>
        <src>000_inputs</src>
        <dst>030_build_design</dst>
        <tool>tcl_job</tool>
        <aux_tools>integrator</aux_tools>
    </tool_task>
    <tool_task name="build_design_replay">
        <step>05_sms</step>
        <script_file>$SEV(gscript_dir)/sms/build_design_replay.tcl</script_file>
        <src>000_inputs</src>
        <dst>030_build_design</dst>
        <tool>builder</tool>
        <aux_tools>integrator</aux_tools>
    </tool_task>
    <tool_task name="build_sms">
        <step>05_sms</step>
        <script_file>$SEV(gscript_dir)/sms/build_sms.tcl</script_file>
        <dst>020_build_sms</dst>
        <tool>tcl_job</tool>
        <aux_tools>integrator</aux_tools>
    </tool_task>
    <tool_task name="build_sms_replay">
        <step>05_sms</step>
        <script_file>$SEV(gscript_dir)/sms/build_sms_replay.tcl</script_file>
        <dst>020_build_sms</dst>
        <tool>integrator</tool>
        <aux_tools>integrator</aux_tools>
    </tool_task>
    <tool_task name="extract_instances">
        <step>05_sms</step>
        <script_file>$SEV(gscript_dir)/sms/extract_instances.tcl</script_file>
        <src>000_inputs</src>
        <dst>010_extract</dst>
        <tool>tcl</tool>
        <aux_tools>builder</aux_tools>
        <must_have_list>
            <must_have regexp="^Errors: 0" severity="error"/>
        </must_have_list>
    </tool_task>
    <tool_task name="prepare_hdl">
        <step>05_sms</step>
        <script_file>$SEV(gscript_dir)/sms/prepare_hdl.tcl</script_file>
        <dst>000_inputs</dst>
        <tool>tcl</tool>
    </tool_task>
    <tool_task name="prepare_masis">
        <step>05_sms</step>
        <script_file>$SEV(gscript_dir)/sms/prepare_masis.tcl</script_file>
        <dst>000_inputs</dst>
        <tool>tcl</tool>
    </tool_task>
    <mux_task name="prepare_outputs">
        <step>05_sms</step>
        <script_file>$SEV(gscript_dir)/sms/prepare_outputs.tcl</script_file>
        <src>030_build_design</src>
        <dst>800_outputs</dst>
        <tool>tcl</tool>
        <port_count>2</port_count>
        <ports>0100000000000000</ports>
    </mux_task>
    <edges>
        <edge from="begin" to="prepare_masis"/>
        <edge from="build_design" to="prepare_outputs/0"/>
        <edge from="build_design_replay" to="prepare_outputs/1"/>
        <edge from="build_sms" to="build_design"/>
        <edge from="build_sms_replay" to="build_design_replay"/>
        <edge from="extract_instances" to="build_sms"/>
        <edge from="extract_instances" to="build_sms_replay"/>
        <edge from="prepare_hdl" to="extract_instances"/>
        <edge from="prepare_masis" to="prepare_hdl"/>
        <edge from="prepare_outputs" to="end"/>
    </edges>
    <graph grid_width="310" grid_height="400">
        <node name="note-1" x="70" y="30"/>
        <node name="begin" x="220" y="50"/>
        <node name="end" x="210" y="370"/>
        <node name="build_design" x="70" y="260"/>
        <node name="build_design_replay" x="220" y="260"/>
        <node name="build_sms" x="70" y="220"/>
        <node name="build_sms_replay" x="220" y="220"/>
        <node name="extract_instances" x="220" y="180"/>
        <node name="prepare_hdl" x="220" y="140"/>
        <node name="prepare_masis" x="220" y="100"/>
        <node name="prepare_outputs" x="210" y="330"/>
    </graph>
</flow>
